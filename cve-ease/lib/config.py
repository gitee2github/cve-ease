# -*- coding: utf-8 -*-

"""
 (c) 2022 - Copyright CTyunOS Inc

 Authors:
   youyifeng <youyf2@chinatelecom.cn>

"""

from __future__ import unicode_literals, absolute_import

import os
import configparser


def reload_config():
    default_values = {
        'main': {
            "log_file_path": "/var/log/cve-ease/cve-ease.log",
            "pid_file_path": "/var/log/cve-ease/cve-ease.pid",
            "db_file_path": "/usr/share/cve-ease/cve-ease.db",
            "lock_file_path": "/var/log/cve-ease/cve-ease.lock",
        }
    }
    config = configparser.ConfigParser()
    config.read_dict(default_values)
    if "EASE_CONFIG" in os.environ:
        if not os.path.exists(os.environ["EASE_CONFIG"]):
            print("%s config file not found!" % os.environ["EASE_CONFIG"])
            exit(1)
        config.read(os.environ["EASE_CONFIG"])

    return config
